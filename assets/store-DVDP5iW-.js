import{aH as n,I as u}from"./index-B_vA2bDn.js";import{i as s}from"./VAvatar-BIS29vSf.js";const a="$",c={getProducts(t={}){return s({url:"products",method:"get",params:t})},getProductById(t){return s({url:`products/${t}`,method:"get"})}},l=n("product",{state:()=>({products:[],loading:!1,viewingProduct:{quantity:1},priceRange:[]}),actions:{async getProducts(t){try{this.loading=!0;const{data:r}=await c.getProducts(t);return this.products=r.map(e=>({...e,currency:a})),this.products}finally{this.loading=!1}},async getProductById(t){try{this.loading=!0;const{data:r}=await c.getProductById(t);return r.currency=a,this.viewingProduct={quantity:1,...r},r}finally{this.loading=!1}},async filterProducts(t,r=null){const e={categoryId:t??u.currentRoute.value.params.id,price_min:this.priceRange[0],price_max:this.priceRange[1]};r&&(e.title=r);const{data:o}=await c.getProducts(e);return o.map(i=>({...i,currency:a}))}}});export{l as u};
